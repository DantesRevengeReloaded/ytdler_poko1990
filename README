PokoDler 1990 â€” Local YouTube Downloader (Web)
================================================

FastAPI + vanilla JS web UI for downloading YouTube singles or playlists as audio (mp3) or video (mp4) directly to your machine. Runs locally for speed and privacy; no cloud services involved.

Features
--------
- Single downloads (audio or video) saved under `downloads/singledls/`.
- Playlist downloads saved under `downloads/playlists/{playlist_name}/` (playlist title sanitized).
- Audio: mp3 with selectable bitrate (192/256/320 kbps). Video: choose resolution (highest/720p/480p/360p).
- Spotify playlist/album/artist preview: fetch Spotify metadata and track lists to mirror or share before downloading.
- Result summary card, toasts, and spinners for clear feedback.
- Basic stats endpoint/UI: total items and total size (MB) from the local SQLite DB.
- Logging to `logs/app.log` plus console.

Tech Stack
----------
- Backend: FastAPI, yt-dlp, SQLite.
- Frontend: Static HTML/CSS/JS served by FastAPI.

Prerequisites
-------------
- Python 3.11+
- FFmpeg available on PATH (for audio extraction/merging via yt-dlp).

Setup
-----
1) Install deps:
```
pip install -r requirements.txt
```
2) Optional: create/edit `.env` (see defaults in `app/core/config.py`):
```
POKODLER_APP_NAME=PokoDL Web
POKODLER_LOG_LEVEL=INFO
POKODLER_DOWNLOAD_DIR=downloads
# Spotify client credentials (required for Spotify playlist preview)
POKODLER_SPOTIFY_CLIENT_ID=your_spotify_client_id
POKODLER_SPOTIFY_CLIENT_SECRET=your_spotify_client_secret
```

Run
---
From the repo root:
```
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```
Open http://localhost:8000 in your browser.

Download Locations
------------------
- Singles: `downloads/singledls/`
- Playlists: `downloads/playlists/{playlist_name}/`
- Stats DB: SQLite file created automatically in the downloads DB path (see `app/db`).
- Logs: `logs/app.log`

Notes
-----
- yt-dlp may emit SABR warnings on some formats; these are informational and downloads continue when possible.
- All processing is local; ensure you respect YouTube terms and copyright laws.

License
-------
MIT